\input cloze-test.tex

\tTitle{Command \string\clozehide}

\tBeginVerbatim{Hide cloze tests globally}
\clozehide

hidden:  lorem \cloze{ipsum} dolor
\tEndVerbatim

\tBeginVerbatim{Show cloze tests globally}
\clozeshow

displayed: lorem \cloze{ipsum} dolor
\tEndVerbatim

\tBeginVerbatim{Hide and show inside a paragraph}
\clozehide hidden: \cloze{hidden}
\clozeshow displayed: \cloze{displayed}
\tEndVerbatim

\tBeginVerbatim{Define two groups (red and green),description=Show cloze texts globally and hide group red}
\clozeset[red]{text_color=red}
\clozeset[green]{text_color=green}

\clozeshow

\clozehide[red]

Group green is displayed: \cloze[group=green]{green}
Group red is hidden: \cloze[group=red]{red}
\tEndVerbatim

\tAll

\tAssertAllMergedOpts{
  {
    visibility = false
  },
  {
    visibility = true
  },
  {
    visibility = false
  },
  {
    visibility = true
  },
  {
    group = green,
    text_color = green,
    visibility = true
  },
  {
    group = red,
    text_color = red,
    visibility = false
  }
}

\bye
