%!TEX program = lualatex
\documentclass{article}
\input ../cloze-test-macros-lualatex.tex
\usepackage{cloze}
\usepackage{tikz}
\usetikzlibrary{positioning}

\begin{document}
\TestTitleDesc{LuaLa\TeX: package tikz}
{}

\def\TmpTikzExampleAlignment{
  \begin{tikzpicture}[
    cloze box/.style={draw,text width=3cm},
    scale=0.8,
    transform shape
  ]
  \def\TmpLorem{
    \clozenol[margin=0pt]{Damit Ihr indess erkennt, woher
      dieser ganze Irrthum gekommen ist.}
  }

  \def\TmpTextBox##1##2##3{
    \node (##1) at (##2) [cloze box,align=##1] {\TmpLorem};
    \node [##3=0cm of ##1] {\texttt{\footnotesize{}align=##1}};
    \draw (##1) -- (tikz);
  }

  \node (tikz) at (4,4) [circle, text width=3cm, align=center] {
    \textbf{TikZ}\\Alignment of Multi-Line\\ Text
  };

  \TmpTextBox{left}         {0,8}{above}
  \TmpTextBox{center}       {4,8}{above}
  \TmpTextBox{right}        {8,8}{above}
  \TmpTextBox{flush right}  {8,4}{above}
  \TmpTextBox{none}         {8,0}{below}
  \TmpTextBox{flush center} {4,0}{below}
  \TmpTextBox{justify}      {0,0}{below}
  \TmpTextBox{flush left}   {0,4}{above}
  \end{tikzpicture}
}

\clozehide

\TmpTikzExampleAlignment

\clozeshow

\TmpTikzExampleAlignment

\end{document}
