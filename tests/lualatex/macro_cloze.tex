%!TEX program = lualatex
\documentclass{article}
\input ../cloze-test-macros-lualatex.tex
\usepackage[show]{cloze}
\usepackage{multicol}

\begin{document}
\TestTitleDesc{LuaLa\TeX: macro \string\cloze}
{With different options.}

\TestSection{Simple}

Lorem ipsum \cloze{dolor sit} amet.

\TestSection{Multi lines}

Lorem ipsum \cloze{dolor sit amet, consectetur adipisicing elit, sed do
eiusmod tempor incididunt ut labore} et dolore magna aliqua. Ut enim ad
minim veniam exercitation ullamco.

\TestSection{Behaviour after punctation}

\def\clozepunctation{%
  Lorem ipsum dolor sit amet, consectetur adipisicing elit sit amet
  \cloze{Lorem}.
  \cloze{ipsum},
  \cloze{dolor};
  \cloze{sit}: %
}

\def\Repeat[#1]#2{
  \count0=#1
  \loop
  \ifnum\count0>0
  \advance\count0 by -1
  #2%
  \repeat
}
\Repeat[20]\clozepunctation

\TestSection{Hide and show}

\begin{itemize}
\item Hide: \cloze[hide]{Lorem ipsum dolor sit amet.}
\item Show: \cloze[show]{Consectetur adipisicing elit, sed do eiusmod.}
\item Hide: \cloze[hide]{Magna aliqua. Ut enim ad minim veniam.}
\end{itemize}

\TestSection{Text color}

\begin{itemize}
\item Black: \cloze[textcolor=black]{Lorem ipsum dolor sit amet.}
\item Red: \cloze[textcolor=red]{Consectetur adipisicing elit, sed do eiusmod.}
\item Green: \cloze[textcolor=green]{Magna aliqua. Ut enim ad minim veniam.}
\end{itemize}

\TestSection{Line color}

\begin{itemize}
\item Black: \cloze[linecolor=black]{Lorem ipsum dolor sit amet.}
\item Red: \cloze[linecolor=red]{Consectetur adipisicing elit, sed do eiusmod.}
\item Green: \cloze[linecolor=green]{Magna aliqua. Ut enim ad minim veniam.}
\end{itemize}

\TestSection{Margin}

\begin{itemize}
\item 0pt: \cloze[margin=0pt]{Lorem ipsum dolor sit amet.}
\item 10pt: \cloze[margin=10pt]{Consectetur adipisicing elit, sed do eiusmod.}
\item 20pt: \cloze[margin=20pt]{Magna aliqua. Ut enim ad minim veniam.}
\end{itemize}

\TestSection{Thickness}

\begin{itemize}
\item 1mm: \cloze[thickness=1mm]{Lorem ipsum dolor sit amet.}
\item 2mm: \cloze[thickness=2mm]{Consectetur adipisicing elit, sed do eiusmod.}
\item 3mm: \cloze[thickness=3mm]{Magna aliqua. Ut enim ad minim veniam.}
\end{itemize}

\TestSection{distance}

\begin{itemize}
\item 1mm: \cloze[distance=1mm]{Lorem ipsum dolor sit amet.}
\item 2mm: \cloze[distance=2mm]{Consectetur adipisicing elit, sed do eiusmod.}
\item 3mm: \cloze[distance=3mm]{Magna aliqua. Ut enim ad minim veniam.}
\end{itemize}
\end{document}
