\documentclass{article}
\input cloze-test-macros-lualatex.tex
\usepackage{cloze}
\usepackage{mdframed}

\begin{document}
\TestTitleDesc{LuaLa\TeX: macro \string\clozestrike}
{With different options.}

\TestSection{Different length of top and base texts}

Lorem ipsum \clozestrike{\textbf{short}}{long text above} dolor sit.

Lorem ipsum \clozestrike{\textbf{long text below}}{short} dolor sit.

\TestSection{Picture environment}

\begin{picture}(20,20)
\put(10,10){Lorem \clozestrike{ipsum}{sit} consectetur.}
\end{picture}

\TestSection{Different font sizes}

\def\TmpFontsize{\par\noindent Lorem ipsum \clozestrike{dolor sit}{amet}, consectetur}

{\tiny\TmpFontsize}
{\scriptsize\TmpFontsize}
{\footnotesize\TmpFontsize}
{\small\TmpFontsize}
{\normalsize\TmpFontsize}
{\large\TmpFontsize}
{\Large\TmpFontsize}
{\LARGE\TmpFontsize}
{\huge\TmpFontsize}
{\Huge\TmpFontsize}

\TestSection{Local options}

Lorem ipsum \clozestrike[textcolor=green]{dolor sit}{amet}.

\TestSection{Package mdframed}

\begin{mdframed}
Lorem \clozestrike{ipsum}{sit} consectetur.
\end{mdframed}

\TestSection{Hide and show}

\def\TestExample{
Lorem ipsum \clozestrike{dolor sit}{amet}, consectetur adipisicing
elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
Ut enim ad minim veniam exercitation ullamco. Lorem ipsum
\clozestrike{dolor sit amet}{consectetur}, adipisicing elit.
}

\TestShowAndHide
\end{document}
