\documentclass{article}
\input ../cloze-test-macros-lualatex.tex

\usepackage{tikz}
\usetikzlibrary{positioning}
\usepackage[show]{cloze}

\begin{document}
\TestTitleDesc{Cloze texts inside a TikZ picture}
{}

\clozesetfont{\ttfamily}
\def\TmpNumberPyramid(#1,#2,#3,#4,#5,#6){
  \begin{tikzpicture}[
    node distance = 0pt,
    every node/.style = {
      draw,
      minimum width=10mm,
      minimum height=6mm,
      inner sep=0pt,
      outer sep=0pt,
      font=\ttfamily,
    }
  ]
  \node (n1)  {#1};
  %
  \node (n11) [below left=of n1.south]    {#2};
  \node (n12) [right=of n11]              {#3};
  %
  \node (n21) [below left=of n11.south]   {#4};
  \node (n22) [right=of n21]              {#5};
  \node (n23) [right=of n22]              {#6};
  \end{tikzpicture}
}

\def\TmpNumberPyramids{
  \TmpNumberPyramid(\clozenol{17},\clozenol{12},\clozenol{5},10,2,3)
  \TmpNumberPyramid(\clozenol{19},10,\clozenol{9},3,\clozenol{7},2)
  \TmpNumberPyramid(10,\clozenol{7},3,\clozenol{5},2,\clozenol{1})
}

Cloze texts are hidden.

\clozehide
\TmpNumberPyramids

Cloze texts are displayed.

\clozeshow
\TmpNumberPyramids
\end{document}
